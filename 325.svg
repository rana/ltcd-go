<svg viewBox="-20 -20 700 400" width="700" height="400">
  <!-- Array elements -->
  <g transform="translate(0,0)">
    <text x="0" y="20" font-size="16" font-weight="bold">Array indices:</text>
    <rect x="0" y="30" width="80" height="40" fill="#e6f7ff" stroke="#1890ff" rx="5" ry="5"/>
    <text x="40" y="55" text-anchor="middle">0</text>
    <rect x="90" y="30" width="80" height="40" fill="#e6f7ff" stroke="#1890ff" rx="5" ry="5"/>
    <text x="130" y="55" text-anchor="middle">1</text>
    <rect x="180" y="30" width="80" height="40" fill="#e6f7ff" stroke="#1890ff" rx="5" ry="5"/>
    <text x="220" y="55" text-anchor="middle">2</text>
    <rect x="270" y="30" width="80" height="40" fill="#e6f7ff" stroke="#1890ff" rx="5" ry="5"/>
    <text x="310" y="55" text-anchor="middle">3</text>
    <rect x="360" y="30" width="80" height="40" fill="#e6f7ff" stroke="#1890ff" rx="5" ry="5"/>
    <text x="400" y="55" text-anchor="middle">4</text>
  </g>

  <!-- Array values -->
  <g transform="translate(0,50)">
    <text x="0" y="20" font-size="16" font-weight="bold">Array values:</text>
    <rect x="0" y="30" width="80" height="40" fill="#f6ffed" stroke="#52c41a" rx="5" ry="5"/>
    <text x="40" y="55" text-anchor="middle">1</text>
    <rect x="90" y="30" width="80" height="40" fill="#f6ffed" stroke="#52c41a" rx="5" ry="5"/>
    <text x="130" y="55" text-anchor="middle">-1</text>
    <rect x="180" y="30" width="80" height="40" fill="#f6ffed" stroke="#52c41a" rx="5" ry="5"/>
    <text x="220" y="55" text-anchor="middle">5</text>
    <rect x="270" y="30" width="80" height="40" fill="#f6ffed" stroke="#52c41a" rx="5" ry="5"/>
    <text x="310" y="55" text-anchor="middle">-2</text>
    <rect x="360" y="30" width="80" height="40" fill="#f6ffed" stroke="#52c41a" rx="5" ry="5"/>
    <text x="400" y="55" text-anchor="middle">3</text>
  </g>

  <!-- Prefix sums -->
  <g transform="translate(0,100)">
    <text x="0" y="20" font-size="16" font-weight="bold">Prefix sums:</text>
    <rect x="0" y="30" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5"/>
    <text x="40" y="55" text-anchor="middle">1</text>
    <rect x="90" y="30" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5"/>
    <text x="130" y="55" text-anchor="middle">0</text>
    <rect x="180" y="30" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5"/>
    <text x="220" y="55" text-anchor="middle">5</text>
    <rect x="270" y="30" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5"/>
    <text x="310" y="55" text-anchor="middle">3</text>
    <rect x="360" y="30" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5"/>
    <text x="400" y="55" text-anchor="middle">6</text>
  </g>

  <!-- Map of prefix sums -->
  <g transform="translate(0,170)">
    <text x="0" y="20" font-size="16" font-weight="bold">Map of prefix sums to earliest index:</text>
    <rect x="0" y="30" width="120" height="40" fill="#f9f0ff" stroke="#722ed1" rx="5" ry="5"/>
    <text x="60" y="55" text-anchor="middle">sum 0: -1</text>
    <rect x="130" y="30" width="120" height="40" fill="#f9f0ff" stroke="#722ed1" rx="5" ry="5"/>
    <text x="190" y="55" text-anchor="middle">sum 1: 0</text>
    <rect x="260" y="30" width="120" height="40" fill="#f9f0ff" stroke="#722ed1" rx="5" ry="5"/>
    <text x="320" y="55" text-anchor="middle">sum 0: 1</text>
    <rect x="390" y="30" width="120" height="40" fill="#f9f0ff" stroke="#722ed1" rx="5" ry="5"/>
    <text x="450" y="55" text-anchor="middle">sum 5: 2</text>
    <rect x="520" y="30" width="120" height="40" fill="#f9f0ff" stroke="#722ed1" rx="5" ry="5"/>
    <text x="580" y="55" text-anchor="middle">sum 3: 3</text>
  </g>

  <!-- Find subarray demonstration -->
  <g transform="translate(0,240)">
    <text x="0" y="20" font-size="16" font-weight="bold">Finding subarray with sum = 3:</text>
    <text x="0" y="45" font-size="14">At index 3, prefix sum = 3, which equals k directly</text>
    <text x="0" y="70" font-size="14">Subarray [0,3] has length 4</text>
    
    <!-- Highlight the subarray -->
    <rect x="0" y="80" width="350" height="50" fill="none" stroke="#ff4d4f" stroke-width="2" rx="5" ry="5" stroke-dasharray="5,5"/>
    <rect x="0" y="90" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5" opacity="0.7"/>
    <text x="40" y="115" text-anchor="middle">1</text>
    <rect x="90" y="90" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5" opacity="0.7"/>
    <text x="130" y="115" text-anchor="middle">-1</text>
    <rect x="180" y="90" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5" opacity="0.7"/>
    <text x="220" y="115" text-anchor="middle">5</text>
    <rect x="270" y="90" width="80" height="40" fill="#fff2e8" stroke="#fa8c16" rx="5" ry="5" opacity="0.7"/>
    <text x="310" y="115" text-anchor="middle">-2</text>
    
    <path d="M40,90 Q40,80 40,70" fill="none" stroke="#ff4d4f" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M310,90 Q310,80 310,70" fill="none" stroke="#ff4d4f" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>

  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ff4d4f" />
    </marker>
  </defs>
</svg>