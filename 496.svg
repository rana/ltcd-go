<svg viewBox="-20 -20 700 500" width="700" height="500">
  <!-- Title -->
  <text x="300" y="20" text-anchor="middle" font-weight="bold" font-size="18">Next Greater Element Using Monotonic Stack</text>

  <!-- Input array -->
  <text x="20" y="60" font-weight="bold">Input Array nums2:</text>
  <rect x="20" y="70" width="40" height="40" fill="lightblue" stroke="black" />
  <rect x="60" y="70" width="40" height="40" fill="lightblue" stroke="black" />
  <rect x="100" y="70" width="40" height="40" fill="lightblue" stroke="black" />
  <rect x="140" y="70" width="40" height="40" fill="lightblue" stroke="black" />

  <text x="40" y="95" text-anchor="middle">1</text>
  <text x="80" y="95" text-anchor="middle">3</text>
  <text x="120" y="95" text-anchor="middle">4</text>
  <text x="160" y="95" text-anchor="middle">2</text>

  <text x="20" y="80" text-anchor="end" font-size="10">index:</text>
  <text x="40" y="80" text-anchor="middle" font-size="10">0</text>
  <text x="80" y="80" text-anchor="middle" font-size="10">1</text>
  <text x="120" y="80" text-anchor="middle" font-size="10">2</text>
  <text x="160" y="80" text-anchor="middle" font-size="10">3</text>

  <!-- Step 1: Processing element 1 -->
  <text x="20" y="150" font-weight="bold">Step 1: Processing element 1</text>

  <!-- Current element indicator -->
  <text x="20" y="170">Current element:</text>
  <rect x="120" y="160" width="40" height="40" fill="lightgreen" stroke="black" />
  <text x="140" y="185" text-anchor="middle">1</text>

  <!-- Stack visualization -->
  <text x="20" y="220">Stack (before):</text>
  <text x="120" y="220">Empty</text>

  <text x="20" y="250">Stack (after):</text>
  <rect x="120" y="240" width="40" height="40" fill="lightgray" stroke="black" />
  <text x="140" y="265" text-anchor="middle">1</text>

  <!-- Map visualization -->
  <text x="20" y="290">nxtGrt map:</text>
  <text x="120" y="290">Empty (no next greater elements found yet)</text>

  <!-- Step 2: Processing element 3 -->
  <text x="380" y="150" font-weight="bold">Step 2: Processing element 3</text>

  <!-- Current element indicator -->
  <text x="380" y="170">Current element:</text>
  <rect x="480" y="160" width="40" height="40" fill="lightgreen" stroke="black" />
  <text x="500" y="185" text-anchor="middle">3</text>

  <!-- Stack visualization -->
  <text x="380" y="220">Stack (before):</text>
  <rect x="480" y="210" width="40" height="40" fill="lightgray" stroke="black" />
  <text x="500" y="235" text-anchor="middle">1</text>

  <text x="380" y="250">Stack (after):</text>
  <rect x="480" y="240" width="40" height="40" fill="lightgray" stroke="black" />
  <text x="500" y="265" text-anchor="middle">3</text>

  <!-- Map visualization -->
  <text x="380" y="290">nxtGrt map:</text>
  <rect x="480" y="280" width="80" height="30" fill="lightyellow" stroke="black" />
  <text x="490" y="300">1 → 3</text>
  <text x="380" y="310" font-style="italic" font-size="12">3 is the next greater element for 1</text>

  <!-- Step 3: Processing element 4 -->
  <text x="20" y="350" font-weight="bold">Step 3: Processing element 4</text>

  <!-- Current element indicator -->
  <text x="20" y="370">Current element:</text>
  <rect x="120" y="360" width="40" height="40" fill="lightgreen" stroke="black" />
  <text x="140" y="385" text-anchor="middle">4</text>

  <!-- Stack visualization -->
  <text x="20" y="420">Stack (before):</text>
  <rect x="120" y="410" width="40" height="40" fill="lightgray" stroke="black" />
  <text x="140" y="435" text-anchor="middle">3</text>

  <text x="20" y="450">Stack (after):</text>
  <rect x="120" y="440" width="40" height="40" fill="lightgray" stroke="black" />
  <text x="140" y="465" text-anchor="middle">4</text>

  <!-- Map visualization -->
  <text x="20" y="490">nxtGrt map:</text>
  <rect x="120" y="480" width="170" height="30" fill="lightyellow" stroke="black" />
  <text x="125" y="500">1 → 3, 3 → 4</text>
  <text x="20" y="510" font-style="italic" font-size="12">4 is the next greater element for 3</text>

  <!-- Step 4: Processing element 2 -->
  <text x="380" y="350" font-weight="bold">Step 4: Processing element 2</text>

  <!-- Current element indicator -->
  <text x="380" y="370">Current element:</text>
  <rect x="480" y="360" width="40" height="40" fill="lightgreen" stroke="black" />
  <text x="500" y="385" text-anchor="middle">2</text>

  <!-- Stack visualization -->
  <text x="380" y="420">Stack (before):</text>
  <rect x="480" y="410" width="40" height="40" fill="lightgray" stroke="black" />
  <text x="500" y="435" text-anchor="middle">4</text>

  <text x="380" y="450">Stack (after):</text>
  <rect x="480" y="440" width="40" height="40" fill="lightgray" stroke="black" />
  <rect x="520" y="440" width="40" height="40" fill="lightgray" stroke="black" />
  <text x="500" y="465" text-anchor="middle">4</text>
  <text x="540" y="465" text-anchor="middle">2</text>

  <!-- Map visualization -->
  <text x="380" y="490">nxtGrt map:</text>
  <rect x="480" y="480" width="170" height="30" fill="lightyellow" stroke="black" />
  <text x="485" y="500">1 → 3, 3 → 4</text>
  <text x="380" y="510" font-style="italic" font-size="12">No changes (2 is not greater than 4)</text>
</svg>
